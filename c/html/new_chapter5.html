<!doctype html>

<html>

  <head>
    <meta charset="utf-8" />
    <title>chapter5</title>

    <meta name="description" content="c program chapter 3" />
    <meta name="author" content="ldc" />
    <!--        
        Impress.js doesn't depend on any external stylesheets. It adds all of the styles it needs for the
        presentation to work. 
        
        However, some of the `extras/` modules do come with their own CSS, and we load
        them here. You can read about each extras module separately in their directory.
    -->
    <link type="text/css" rel="stylesheet" href="js/SyntaxHighlighter/styles/shCoreDefault.css" />
    <link href="css/animate.css/animate1.css" rel="stylesheet">

    <link rel="stylesheet" href="new_impress_js/extras/mermaid/mermaid.forest.css">
    <link href="css/substep.css" rel="stylesheet">

    <!-- load math show lib -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({ extensions: ["tex2jax.js"], jax: ["input/TeX","output/HTML-CSS"], tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} });
    </script>

    <script src="js/mathjax/MathJax.js" async></script>
    <!--
        This file contains styles specific for this example presentation. 
    -->
    <link href="new_impress_js/examples/classic-slides/css/classic-slides.css" rel="stylesheet" />

    <link href="css/new_style3.css" rel="stylesheet" />

  </head>

  <body>

    <div id="impress" data-transition-duration="1000">
      <div id="5" class="step" data-x="0" data-y="0" data-scale="1">
        <h1 class="animated rubberBand " style="text-align: center">第五章<br>循环结构程序设计</h1>
      </div>

      <div id="5.1.1" class="step slide" data-x="-100" data-y="800" data-scale="1">
        <h3 class="animated shake  " style="padding: 0; margin: 0">5.1 while循环</h3>
        <hr>
        <h5>例5.1：求：\[\sum_{n=1}^{100}n = 1+2+...+100 \]</h5>
        <div class="substep" style="height:340px; overflow: auto; display: grid; grid-template-columns: 65% 35%;">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                  #include<stdio.h>
                  int main(void)
                  {
                      int i, sum = 0 ;
                      i=0;
                      while(i<=100){
                          sum += i; i++;
                      }
                      printf("1+2+...+100=%d\n", sum);
                      return 0;
                  }
                  ]]>
          </script>
          <svg width="360" height="400">
                  <rect x="5" y="5" width="250" height="40" fill="white" stroke="darkblue"/>
                  <text x="65" y="30" style="font-size:20px;">sum=0, i=0</text>

                  <polyline points="5,45 255,45 255,85 55,85 55,165 5,165 5,45" fill="white" stroke="darkblue"></polyline>
                  <text x="65" y="70" style="font-size:20px;">i≤100 ?</text>

                  <rect x="55" y="85" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="110" style="font-size:20px;">sum = sum + i</text>

                  <rect x="55" y="125" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="150" style="font-size:20px;">i = i + 1</text>

                  <rect x="5" y="165" width="250" height="40" fill="white" stroke="darkblue"/>
                  <text x="65" y="190" style="font-size:20px;">输出sum</text>
               </svg>
        </div>
      </div>

      <div id="5.1.2" class="step slide" data-x="-100" data-y="1600" data-rotate="360" data-scale="1">
        <h3 class="animated bounce " style="padding: 0; margin: 0">5.1 while循环</h3>
        <hr>
        <div class="substep" style="display: grid; grid-template-columns: 65% 35%;">
          <ol style="font-size:24px;">
            <li class="substep">格式：<code>while(条件表达式）语句;</code></li>
            <li class="substep">注意，上面的<code>条件表达式</code>为<code>真（非0）</code>则执行循环(<code>语句</code>)，若为<code>假(0)</code>则退出循环</li>
            <li class="substep">注意，上面的<code>语句;</code>只能是一条语句，如果需要多条语句，则要用<code>{ }</code>来组成<span class="red">复合语句</span>，如下例：</li>
          </ol>
          <svg width="350" height="300">
                  <rect x="5" y="5" width="250" height="40" fill="white" stroke="darkblue"/>
                  <text x="65" y="30" style="font-size:20px;">循环变量初始化</text>

                  <polyline points="5,45 255,45 255,85 55,85 55,165 5,165 5,45" fill="white" stroke="darkblue"></polyline>
                  <text x="65" y="70" style="font-size:20px;">是否继续循环？</text>

                  <rect x="55" y="85" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="110" style="font-size:20px;">循环体</text>

                  <rect x="55" y="125" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="150" style="font-size:20px;">循环变量发生改变</text>
               </svg>
        </div>
        <div class="substep" style="display: grid; grid-template-columns: 50% 50%;">
          <script type="syntaxhighlighter" class="brush: c;">
            <![CDATA[
                            int sum=0, i=0;
                            while(i<10)
                                sum+=i;
                                i++; /* 这句会发生什么？ */
                            printf("sum = %d\n", sum);                            
                            ]]>
          </script>
          <script type="syntaxhighlighter" class="brush: c;">
            <![CDATA[
                            int sum=0, i=0;
                            while(i<10){
                                sum+=i;
                                i++; /* 这句会发生什么？ */
                            }
                            printf("sum = %d\n", sum);                            
                            ]]>

          </script>
        </div>
      </div>

      <div id="5.2.1" class="step slide" data-x="-100" data-y="3200" data-rotate="360" data-scale="1">
        <h3 class="animated pulse " style="padding: 0; margin: 0">5.2 do...while循环</h3>
        <hr>
        <ol>
          <li class="substep">格式：<code>do 语句; while(条件表达式);</code></li>
          <li class="substep">注意，上面的<code>条件表达式</code>为<code>真（非0）</code>则执行循环(<code>语句</code>)，若为<code>假(0)</code>则退出循环</li>
          <li class="substep">注意，上面的<code>语句;</code>只能是一条语句，如果需要多条语句，则要用<code>{ }</code>来组成<span class="red">复合语句</span>，如下例：</li>
        </ol>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c;">
            <![CDATA[
                            double x = 0, y;

                            do
                            {
                                printf("input a positive number:");
                                scanf("%lf", &x);
                            } while (x < 0);                           
                            ]]>
          </script>
        </div>
      </div>

      <div id="5.2.2" class="step slide" data-x="-100" data-y="2400" data-scale="1">
        <h3 class="animated flash " style="padding: 0; margin: 0">5.2 do...while循环</h3>
        <hr>
        <h4>例5.2：从键盘输入一个正数，求出其开方，若是负数则重新输入。</h4>
        <div class="substep" style="display: grid; grid-template-columns: 35% 65%;">
          <svg width="350" height="300">
                  <polyline points="5,5 55,5 55,45 255,45 255,85 5,85 5,5" fill="white" stroke="darkblue"></polyline>
                  <text x="65" y="80" style="font-size:20px;">x &lt;= 0 ？</text>

                  <rect x="55" y="5" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="35" style="font-size:20px;">键盘输入 x</text>

                  <rect x="5" y="85" width="250" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="120" style="font-size:20px;">计算 y = sqrt(x) </text>

                  <rect x="5" y="125" width="250" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="160" style="font-size:20px;">输出 y </text>
               </svg>
          <div class="substep" style="height:500px; overflow: auto">
            <script type="syntaxhighlighter" class="brush: c">
              <![CDATA[
                    #include <stdio.h>
                    #include <math.h>
                    int main(void)
                    {
                        double x = 0, y;
                        do{
                            printf("input a positive number:");
                            scanf("%lf", &x);
                        } while (x <= 0);
                        y = sqrt(x);
                        printf("sqrt(%.2lf)=%.2lf\n", x, y);
                        return 0;
                    }
                    ]]>
            </script>
          </div>
        </div>
      </div>

      <div id="5.3.1" class="step slide" data-x="1500" data-y="1600" data-rotate="360" data-scale="1">
        <h3 class="animated headShake " style="padding: 0; margin: 0">5.3 for循环</h3>
        <hr>
        <ul>
          <li class="substep">格式：<code>for(表达式1;表达式2;表达式3) 语句1; </code></li>
          <li class="substep">上面的<code>表达式1</code>一般作为初始化，仅在循环开始之前执行一次, 如果有多个变量初始化，可以用<code>,</code>来隔开；</li>
          <li class="substep">上面的<code>表达式2</code>作为循环条件判断，其计算结果若为<code>真(非0)</code>，则执行循环语句<code>语句1</code>，若为<code>假(0)</code>则退出循环</li>
          <li class="substep">上面的<code>表达式3</code>在每次循环结束后都会被执行，注意是表达式而不是语句，所以最后不能加<code>;</code></li>
          <li class="substep">注意，上面的<code>语句1;</code>只能是一条语句，如果需要多条语句，则要用<code>{ }</code>来组成<span class="red">复合语句</span></li>
          <li class="substep"><code>for</code>语句可以等效于<code>while</code>语句, 如下例：</li>
        </ul>
      </div>

      <div id="5.3.2" class="step" data-x="1520" data-y="2050" data-rotate="360" data-scale="1">
        <script type="syntaxhighlighter" class="brush: c">
          <![CDATA[
                    int i, sum;
                    for(i=0, sum=0; i<10; i++)
                        sum += i;
                    //等效于下面的while语句
                    i=0; sum=0;
                    while(i<10){
                        sum += i; 
                        i++;
                    }
                    ]]>
        </script>
      </div>

      <div id="5.3.3" class="step slide" data-x="1500" data-y="2500" data-rotate="360" data-scale="1">
        <h3 class="animated swing " style="padding: 0; margin: 0">5.3 for循环</h3>
        <hr>
        <ul>
          <li class="substep"><code>for(表达式1;表达式2;表达式3) 语句1; </code>这里的三个表达式都可以省略，但是<code>;</code>不能省略, 如下例：</li>
        </ul>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    int i=0, sum=0;
                    for(;i<10;){
                        sum += i; 
                        i++;
                    }
                    //下面实现一个无限循环
                    for(;1;); // 最后的; 是一个空语句
                    //下面也是一个无限循环
                    for(;;);  //表达式2若省略，相当于循环条件永远为真（非0）
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.3.4" class="step slide" data-x="1500" data-y="3300" data-rotate="360" data-scale="1">
        <h3 class="animated tada " style="padding: 0; margin: 0">5.3 for循环</h3>
        <hr>
        <ul>
          <li class="substep"><code>for</code>语句的灵活性可以让我们把几乎所有的循环内容都写在for的头部（表达式1-3），但是很不直观，而且不利于调试，所以<span class="red">不建议</span>这样做。</li>
        </ul>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    int i, sum;
                    i=0;
                    sum=0;
                    while(i<10){
                        sum += i; i++;
                    }
                    //下面完全等效， 但不建议
                    int i, sum;
                    for(i=0, sum=0; i<10; sum+=i, i++);                    
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.3.5" class="step slide" data-x="1500" data-y="0" data-scale="1">
        <h3 class="animated rubberBand " style="padding: 0; margin: 0">5.3 for循环</h3>
        <hr>
        <h4>例5.3：打印输出九九乘法表</h4>
        <div class="substep" style="display: grid; grid-template-columns: 35% 65%;">
          <svg width="350" height="500">
                  <rect x="5" y="5" width="250" height="40" fill="white" stroke="darkblue"/>
                  <text x="65" y="30" style="font-size:20px;">row = 1</text>

                  <polyline points="5,45 255,45 255,85 55,85 55,325 5,325 5,45" fill="white" stroke="darkblue"></polyline>
                  <text x="65" y="70" style="font-size:20px;"> row &lt;= 9 ?</text>

                  <rect x="55" y="85" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="115" y="110" style="font-size:20px;">column = 1</text>
                  
                  <polyline points="55,125 255,125 255,165 105,165 105,285 55,285 55,125" fill="white" stroke="darkblue"></polyline>
                  <text x="105" y="150" style="font-size:20px;"> column &lt;= 9 ?</text>

                  <rect x="105" y="165" width="150" height="80" fill="white" stroke="darkblue"/>
                  <text x="135" y="190" style="font-size:20px;">输出：</text>
                  <text x="125" y="230" style="font-size:20px;">row * column</text>

                  <rect x="105" y="245" width="150" height="40" fill="white" stroke="darkblue"/>
                  <text x="135" y="270" style="font-size:20px;">column++</text>
                  
                  <rect x="55" y="285" width="200" height="40" fill="white" stroke="darkblue"/>
                  <text x="95" y="310" style="font-size:20px;">row++</text>
                  
               </svg>
          <div class="substep">
            <script type="syntaxhighlighter" class="brush: c">
              <![CDATA[
                    #include <stdio.h>
                    
                    int main(void)
                    {
                        int row, column; //行、列
                        for(row = 1; row <=9; row++){
                            for(column = 1; column <= 9; 
                                     column ++){
                                printf("%2d*%2d=%2d  ", 
                                  row, column, row*column);
                            }
                            putchar('\n');
                        }
                        return 0;
                    }
                    ]]>
            </script>
          </div>
        </div>
      </div>

      <div id="5.3.6" class="step" data-x="1500" data-y="800" data-scale="1">
        <img src="images/fig5-1.png" style="width:100%; height:100%">
      </div>

      <div id="5.4.1" class="step slide" data-x="2500" data-y="0" data-rotate="0" data-scale="1">
        <h3 class="animated wobble " style="padding: 0; margin: 0">5.4 循环的嵌套</h3>
        <hr>
        <ul>
          <li class="substep">循环的<b class="red">嵌套</b>, 指循环中可以包含另一个循环，C语言中三种循环都可以互相嵌套；</li>
          <li class="substep">注意循环的包含范围，建议用<b class="blue">缩进</b>来帮助区分（注意不是强制）</li>
        </ul>
      </div>

      <div id="5.4.2" class="step slide" data-x="2500" data-y="800" data-rotate="0" data-scale="1">
        <h4>例5-4：打印 1-10 以内的素数</h4>
        <svg style="position: relative;left:-50px; top:5px; width:450px; height: 800px;">
            <rect x="5" y="5" width="400" height="40" fill="white" stroke="darkblue"/>
            <text x="165" y="30" style="font-size:20px;">i = 1</text>

            <polyline points="5,45 405,45 405,85 55,85 55,525 5,525 5,45" fill="white" stroke="darkblue"></polyline>
            <text x="145" y="70" style="font-size:20px;"> i &lt;= 10 ?</text>

            <rect x="55" y="85" width="350" height="40" fill="white" stroke="darkblue"/>
            <text x="115" y="110" style="font-size:20px;">is_prime = TRUE</text>

            <rect x="55" y="125" width="350" height="40" fill="white" stroke="darkblue"/>
            <text x="115" y="150" style="font-size:20px;">j = 2</text>
            
            <polyline points="55,165 405,165 405,205 105,205 105,365 55,365 55,165" fill="white" stroke="darkblue"></polyline>
            <text x="85" y="185" style="font-size:20px;"> j&lt;=sqrt(i) &amp;&amp;  TRUE==is_prime ?</text>

            <rect x="105" y="205" width="300" height="80" style="fill:white; stroke: darkblue;"/>
            <line x1="105" y1="205" x2="285" y2="285" style="stroke:darkblue"/>
            <line x1="405" y1="205" x2="285" y2="285" style="stroke:darkblue"/>
            <text x="220" y="230" style="font-size:20px;"> i % j == 0 ?</text>
            <text x="125" y="270" style="font-size:20px;">true</text>
            <text x="355" y="270" style="font-size:20px;">false</text>

            <rect x="105" y="285" width="180" height="40" fill="white" stroke="darkblue"/>
            <text x="120" y="310" style="font-size:20px;">is_prime=FALSE</text>

            <rect x="285" y="285" width="120" height="40" fill="white" stroke="darkblue"/>

            <rect x="105" y="325" width="300" height="40" fill="white" stroke="darkblue"/>
            <text x="220" y="350" style="font-size:20px;">j++</text>

            <rect x="55" y="365" width="350" height="80" style="fill:white; stroke: darkblue;"/>
            <line x1="55" y1="365" x2="285" y2="445" style="stroke:darkblue"/>
            <line x1="405" y1="365" x2="285" y2="445" style="stroke:darkblue"/>
            <text x="180" y="390" style="font-size:20px;"> TRUE == is_prime ?</text>
            <text x="75" y="430" style="font-size:20px;">true</text>
            <text x="355" y="430" style="font-size:20px;">false</text>

            <rect x="55" y="445" width="230" height="40" fill="white" stroke="darkblue"/>
            <text x="120" y="470" style="font-size:20px;">输出：i</text>

            <rect x="285" y="445" width="120" height="40" fill="white" stroke="darkblue"/>

            <rect x="55" y="485" width="350" height="40" fill="white" stroke="darkblue"/>
            <text x="220" y="510" style="font-size:20px;">i++</text>
        </svg>
        <div style="position: relative; top:-850px; left:360px; width:480px; height:900px;" class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>

                    #define FALSE 0
                    #define TRUE  !FALSE

                    int main(void)
                    {
                        int i, j, is_prime;
                        for(i=1; i<=10; i++){
                            is_prime = TRUE;
                            for(j=2; j<sqrt(i) 
                                   && TRUE == is_prime ; 
                                j++){
                                if( i % j == 0)
                                    is_prime = FALSE;
                            }
                            if(TRUE  == is_prime){
                                printf("%d is prime.\n", 
                                        i);
                            }
                        }
                        return 0;
                    }                    
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.5.1" class="step slide" data-x="3500" data-y="0" data-rotate="0" data-scale="1">
        <h3 class="animated jello " style="padding: 0; margin: 0">5.5 改变循环的流向</h3>
        <hr>
        <ul>
          <li class="substep animated bounce infinite">用<code>break</code>提前终止循环</li>
          <li class="substep">例5-5：输入任意数，负数退出，正数求平方根</li>
        </ul>
        <div class="substep" style="position: relative; top:0px; left:0px;">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>
                    #include<stdbool.h>
                    int main(void)
                    {
                        double  value; 
                        bool is_quit = false;
                        do{
                            printf("input a number, negative to quit:");
                            scanf("%lf", &value);
                            if(value<0)
                                is_quit = true;
                            else
                                printf("the sqrt(%.2lf)=%.2lf\n", value, sqrt(value));
                        }while(false == is_quit);
                        return 0;                        
                    }
                    ]]>
          </script>
        </div>
        <div class="substep" style="position: relative; top:-455px; left:0px;">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>
                    int main(void)
                    {
                        double  value;
                        do{
                            printf("input a number, negative to quit:");
                            scanf("%lf", &value);
                            if(value<0)
                                break;
                            printf("the sqrt(%.2lf)=%.2lf\n", value, sqrt(value));
                        }while(1);
                        return 0;



                    }
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.5.2" class="step slide" data-x="3500" data-y="800" data-rotate="0" data-scale="1">
        <h3 class="animated bounceIn " style="padding: 0; margin: 0">5.5 改变循环的流向</h3>
        <hr>
        <ul>
          <li class="substep animated bounce infinite">用<code>continue</code>提前结束本次循环</li>
          <li class="substep">例5-6：输出100--200之间不能被3整除的整数</li>

        </ul>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    int main(void)
                    {
                        int i;
                        for(i=100; i<=200; i++){
                            if(i % 3 == 0)
                                continue;
                            printf("%d ", i);
                        }
                        putchar('\n');
                        return 0;                        
                    }
                    ]]>
          </script>
        </div>
        <div class="substep" style="position: relative; top:-310px; left:380px; width:450px;">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    int main(void)
                    {
                        int i;
                        for(i=100; i<=200; i++){
                            if(i % 3 == 0)
                                ;
                            else
                                printf("%d ", i);
                        }
                        putchar('\n');
                        return 0;                        
                    }
                    ]]>
          </script>
        </div>
        <img src="images/fig5-3.png" class="substep" style="width: 100%; position: relative; top:-320px;">
      </div>

      <div id="5.6.0" class="step" data-x="4500" data-y="0" data-rotate-y="90" data-scale="1">
        <h3 class="animated rubberBand" style="padding: 0; margin: 0">5.6 循环程序举例</h3>
      </div>

      <div id="5.6.1" class="step slide" data-x="4500" data-y="0" data-rotate-y="0" data-scale="1">
        <h4 class="animated bounceInDown " style="padding: 0; margin: 0">例5-7：用\(\frac{\pi}{4}\approx 1-\frac{1}{3}+\frac{1}{5}-\frac{1}{7}\cdots\)求\(\pi\)的近似值</h4>
        <hr>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>
                    #define MIN_TERM 1e-6
                    
                    int main(void)
                    {
                        double pi=0.0, n=1.0, term=1.0;
                        int sign = 1;
                        
                        while(fabs(term)>=MIN_TERM){
                            pi+=term;
                            n+=2;
                            sign*=-1;
                            term=sign/n;
                        }
                        pi=pi*4;
                        printf("pi=%.8lf\n", pi); //结果：pi=3.14159065
                        return 0;                        
                    }
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.6.2" class="step slide" data-x="4500" data-y="800" data-rotate-y="0" data-scale="1">
        <h4 class="animated bounceInLeft " style="padding: 0; margin: 0">例5-8：求Fibonacci数列的前40个数，公式：\[\left\{\begin{aligned}F_1 &amp;=1 &amp;(n=1)\\F_2 &amp;=1 &amp;(n=2)\\F_n &amp;=F_{n-1}+F_{n-2} &amp;(n\ge 3)\end{aligned}\right.\]</h4>
        <hr>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include <stdio.h>

                    int main(void)
                    {
                        unsigned int f1 = 1, f2 = 1, f3;
                        printf("[%3d]%12u\n[%3d]%12u\n", 1,f1, 2,f2);
                        for (int i = 3; i <= 40; i++)
                        {
                            f3 = f1 + f2;
                            printf("[%3d]%12u\n", i, f3);
                            f1 = f2;
                            f2 = f3;
                        }
                        return 0;
                    }
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.6.3" class="step" data-x="5500" data-y="800" data-rotate-y="0" data-scale="1">
        <img src="images/fig5-4.png" style="height: 800px">
      </div>

      <div id="5.6.4" class="step slide" data-x="4500" data-y="1600" data-rotate-y="0" data-scale="1">
        <h4 class="animated bounceInRight " style="padding: 0; margin: 0">例5-9：输入两个正整数m和n，求二者的最大公约数和最小公倍数</h4>
        <hr>
        <div class="substep" style="height:430px; overflow: auto">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include <stdio.h>
                    int main(void)
                    {
                        int m, n;

                        printf("input two positive integer number:");
                        scanf("%d,%d", &m, &n);

                        /*判断两个数的大小，通过交换确保 m < n */
                        if(m>n){
                            int t=m; m=n; n=t;
                        }
                        /*求最大公约数, 从比较小的数m开始往下查找, 最小是1*/
                        for(int i=m; i>=1; i--){
                            if( m % i ==0 && n % i == 0){
                                printf("the greatest common divisor of %d and %d is %d\n", 
                                       m, n, i);
                                break;
                            }
                        }
                        /*求最小公倍数，从比较大的数n开始往上查找，最大是m*n */
                        for(int i=n; i<=m*n; i++){
                            if( i % m ==0 && i % n == 0){
                                printf("the least common multiple of %d and %d is %d\n", 
                                        m, n, i);
                                break;
                            }
                        }

                        return 0;
                    }
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.6.5" class="step slide" data-x="4500" data-y="2400" data-rotate-y="0" data-scale="1">
        <h4 class="animated bounce " style="padding: 0; margin: 0">例5-10：输出所有水仙花数，即一个三位数，各数字立方和等于该数本身，比如\(153=1^3+5^3+3^3\)</h4>
        <hr>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    int main(void)
                    {
                        int daffodil, d1, d2, d3;
                        for(daffodil=100; daffodil<1000; daffodil++){
                            d1 = daffodil / 100; 
                            d2 = daffodil % 100 / 10;
                            d3 = daffodil % 10;
                            if( d1*d1*d1 + d2*d2*d2 + d3*d3*d3 == daffodil){
                                printf("%d ", daffodil);
                            }
                        }
                        putchar('\n');
                        return 0;
                    }
                    ]]>
          </script>
        </div>
        <h5 class="substep">结果：<code>153 370 371 407</code></h5>
      </div>

      <div id="5.6.6" class="step slide" data-x="4500" data-y="3200" data-rotate-y="0" data-scale="1">
        <h4 class="animated bounceInDown" style="padding: 0; margin: 0">例5-11：有一个球，从100m的高度自由落下，每次落地后反跳回原高度的一半，再落下，再反弹，求第10次落地时，已经经过多少距离，第10次反弹有多高？</h4>
        <hr>
        <ul style="font-size: 27px;">
          <li class="substep"><span class="red">[解题分析]</span>：
            <ol>
              <li class="substep">第1次落地，经过距离\(s_1=100\), 反弹\(r_1=50\)</li>
              <li class="substep">第2次落地，经过距离\(s_2=100+50*2=s_1+r_1*2\), 反弹\(r_2=\frac{50}{2}=25=\frac{r_1}{2}\)</li>
              <li class="substep">第3次落地，经过距离\(s_3=100+50*2+25*2=s_2+r_2*2\), 反弹\(r_3=\frac{25}{2}=12.5=\frac{r_2}{2}\)</li>
              <li class="substep">第n次落地，经过距离\(s_n=s_{n-1}+r_{n-1}*2\), 反弹\(r_n=\frac{r_{n-1}}{2}\)</li>
            </ol>
          </li>
        </ul>
      </div>

      <div id="5.6.7" class="step slide" data-x="5500" data-y="3200" data-rotate-y="0" data-scale="1">
        <script type="syntaxhighlighter" class="brush: c">
          <![CDATA[
                    #include<stdio.h>
                    int main(void)
                    {
                        double s=100, r=50 ;
                        printf("[%2d]s=%10g, r=%10g\n",1,s,r);
                        for(int i=2; i<=10; i++){
                            s=s+r*2; r=r/2;
                            printf("[%2d]s=%10g, r=%10g\n",i,s,r);
                        }
                        return 0;
                    }
        ]]>
        </script>
        <img src="images/fig5-5.png" class="substep" style="width: 80%">
      </div>

      <div id="5.6.8" class="step slide" data-x="4500" data-y="4000" data-rotate-y="0" data-scale="1">
        <h4 class="animated bounceInLeft" style="padding: 0; margin: 0">例5-12：用迭代法求\(x=\sqrt{a}\),其公式为\(x_{n+1}=\frac{1}{2}\left(x_n+\frac{a}{x_n}\right) \),要求其前后两次求出来的x的差的绝对值小于\(10^{-5}\)</h4>
        <hr>
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>
                    #define MIN_VALUE 10e-5

                    int main(void)
                    {
                        double x=1.0, last_x, a;

                        printf("input a real number:");
                        scanf("%lf", &a);
                                                
                        do{
                            last_x = x;
                            x = 1.0/2.0*(x+a/x);
                        }while(fabs(x-last_x)>MIN_VALUE);

                        printf("sqrt(%lg) = %lg\n", a, x);
                        return 0;
                    }
                    ]]>
          </script>
        </div>
      </div>


      <div id="5.6.9" class="step slide" data-x="4500" data-y="4800" data-rotate-y="0" data-scale="1">
        <h4 class="animated fadeIn" style="padding: 0; margin: 0">例5-13：用牛顿迭代法求\(2x^3-4x^2+3x-6=0\)的根,要求其前后两次求出来的x的差的绝对值小于\(10^{-6}\)</h4>
        <hr>
        <ul style="font-size: 20px;">
          <li class="substep"><span class="red">[牛顿迭代法]</span>：
            <ol>
              <li class="substep">设有任意函数\(f(x)\)N阶可导, 对其在\(x_0\)处进行一阶泰勒展开，\(f(x)\approx f(x_0)+(x-x_0)f'(x_0)\),\[\left.\begin{aligned}令 f(x)&amp;=0\\ \Rightarrow f(x_0)+(x-x_0)f'(x_0) &amp;=0\\ \Rightarrow f(x_0)+xf'(x_0)-x_0f'(x_0) &amp;=0\\ \Rightarrow xf'(x_0)&amp;=x_0f'(x_0)-f(x_0)\\
                \Rightarrow x&amp;=x_0-\frac{f(x_0)}{f'(x_0)}\end{aligned}\right.\]</li>
              <li class="substep">对于本例，\(f(x)=2x^3-4x^2+3x-6, f'(x)=6x^2-8x+3\)</li>
              <li class="substep">先令：\(x=1\), 代入\(x_{new}=x_{old}-\frac{f(x_{old})}{f'(x_{old})}\)即可求出新的\(x\), 再将其代入公式求出新的\(x\), 直到前后求出的\(|x_{new}-x_{old}|&lt;\delta \),这里\(\delta\)是预先设好的一个极小值，这表明\(x\)已经稳定
              </li>
              <li class="substep">这样找到的\(x\)是方程的一个近似解。</li>
            </ol>
          </li>
        </ul>
      </div>

      <div id="5.6.10" class="step slide" data-x="5500" data-y="4800" data-rotate-y="0" data-scale="1">
        <div class="substep">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>
                    #define DELTA 1e-6

                    int main(void)
                    {
                        double x, last_x, f, df;
                        int i=1;

                        x=1.0;
                        do{
                            last_x = x;
                            f  = 2*x*x*x - 4*x*x + 3*x -6;
                            df = 6*x*x   - 8*x   + 3;
                            x  = x - f/df ;
                            printf("[%3d]x=%10g, |x_new-x_old|=%15g\n", 
                                 i++, x, fabs(last_x-x));
                        }while(fabs(last_x-x)>DELTA);
                        return 0;
                    }
                    ]]>
          </script>
        </div>
        <img src="images/fig5-7.png" class="substep" style="width: 50%">
      </div>

      <div id="5.6.11" class="step slide" data-x="4500" data-y="5600" data-rotate-y="0" data-scale="1">
        <h4 class="animated fadeInDown" style="padding: 0; margin: 0">例5-14：用二分法求\(2x^3-4x^2+3x-6=0\)在\(x\in[-10,10]\)的根,要求其前后两次求出来的x的差的绝对值小于\(10^{-6}\)</h4>
        <hr>
        <ul style="font-size: 20px;">
          <li class="substep"><span class="red">[二分迭代法]</span>：
            <ol>
              <li class="substep">设有连续函数\(f(x)\)在\(x\in[-10, 10]\)里有根\(x_1\)，意味着\(f(x_1)=0\)，函数图形在\(x_1\)处穿过\(x\)轴，所以\(x_1\)两端的函数值一定是一个是正，一个是负，故而二分迭代的解题思路是：</li>
              <li class="substep">先取\(x\)的最小值（\(x_{min}\)）和最大值（\(x_{max}\)）</li>
              <li class="substep">令\(x_{center} = \frac{x_{max}+x_{min}}{2}\), 并求\(f(x_{center})\)</li>
              <li class="substep">判断 \(f(x_{center})\)与\(f(x_{min})\)和\(f(x_{max})\)的值的正负号，如果\(f(x_{center})\)与\(f(x_{min})\)同号，则表明\(x_{center}\)比\(x_{min}\)更接近根，所以要替换\(x_{min}=x_{center}\),否则替换\(x_{max}=x_{center}\)</li>
              <li class="substep">重复上面第3步，一直到\(|x_{max}-x_{min}|&lt;\delta \)</li>
            </ol>
          </li>
        </ul>
      </div>

      <div id="5.6.12" class="step slide" data-x="5500" data-y="5600" data-rotate-y="0" data-scale="1">
        <div class="fade-in fade-out" style="height: 600px; overflow: auto">
          <script type="syntaxhighlighter" class="brush: c">
            <![CDATA[
                    #include<stdio.h>
                    #include<math.h>
                    #define DELTA 1e-6
                    #define F(x) (2*(x)*(x)*(x)-4*(x)*(x)+3*(x)-6)

                    int main(void)
                    {
                        double x_min=-10, x_max=10, f1, f2, fc, x_center;
                        int i = 0;

                        printf("[No.]%15s%15s%15s%15s%15s%15s%15s\n",
                                  "x_min","f(x_min)","x_center","f(x_center)",
                                  "x_max","f(x_max)","|x_max-x_min|");
                        
                        do{
                            //找到 x_min 和 x_max 的中点
                            x_center = (x_max + x_min)/2.0; 
                            fc = F(x_center);
                            //如果f1和fc符号相同，则x_min和x_center在根的同一侧，
                            //因此要替换x_min
                            if(f1*fc>0){
                                x_min = x_center;
                                f1 = fc;
                            }else{//否则x_max和x_center在同一侧，要替换x_max
                                x_max = x_center;
                                f2 = fc;
                            }
                            printf("[%3d]%15.6f%15.6f%15.6f%15.6f%15.6f%15.6f%15g\n",
                            ++i,x_min,f1,x_center,fc,x_max,f2, fabs(x_max-x_min));
                        }while(fabs(x_max-x_min)>DELTA);

                        return 0;
                    }
                    ]]>
          </script>
        </div>
      </div>

      <div id="5.6.13" class="step slide" data-x="6500" data-y="5600" data-rotate-y="0" data-scale="1">
        <img src="images/fig5-8.png" class="fade-in fade-out" style="width: 100%">
        <img src="images/fig5-7.png" class="substep" style="width: 100%">
      </div>

      <!-- This last, empty "slide" is set to be very large using the data-scale attribute, 
         so that it covers all the other slides you just saw. 
         It's a common way of zooming out at the end, to show the whole presentation.
         In CSS, we set pointer-events:none to make this slide non-clickable. 
         It makes a difference at least for SVG content, such as the mermaid diagram. -->
      <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="10" style="pointer-events: none;">
      </div>
    </div>

    <!--
    Add navigation-ui controls: back, forward and a select list.
    Add a progress indicator bar (current step / all steps)
    Add the help popup plugin
-->
    <div id="impress-toolbar"></div>

    <div class="impress-progressbar">
      <div></div>
    </div>
    <div class="impress-progress"></div>

    <div id="impress-help"></div>

    <!-- Extra modules
     Load highlight.js, mermaid.js and markdown.js from extras.
     If you're curious about details, these are initialized in src/plugins/extras/extras.js -->

    <script type="text/javascript" src="new_impress_js/extras/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="new_impress_js/extras/markdown/markdown.js"></script>
    <script type="text/javascript" src="new_impress_js/extras/impress-console/js/impressConsole.js"></script>
    <script type="text/javascript">
      // For impressConsole, we unfortunately must also set the path to a mandatory css file
      // which is relative to this html file.
      // See https://github.com/regebro/impress-console/issues/19
      var impressConsoleCss = 'new_impress_js/extras/impress-console/css/impressConsole.css';
    </script>


    <!--
    To make all described above really work, you need to include impress.js in the page.
    You also need to call a `impress().init()` function to initialize impress.js presentation.
    And you should do it in the end of your document. 
-->
    <script src="js/jquery/jquery.js"></script>
    <script src="js/SyntaxHighlighter/scripts/shCore.js"></script>
    <script src="js/SyntaxHighlighter/scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="new_impress_js/js/impress.js"></script>
    <script>
      SyntaxHighlighter.all();
      impress().init();
    </script>

  </body>

</html>